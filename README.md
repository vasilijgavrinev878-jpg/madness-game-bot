# MadnessGame - Mini App –¥–ª—è Telegram

## üöÄ –ó–∞–ø—É—Å–∫ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

### 2Ô∏è‚É£ –ü–æ–ø—Ä–∞–≤—å—Ç–µ `.env` —Ñ–∞–π–ª:
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
- –í—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_BOT_TOKEN`

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:3000`

### 4Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É `/start`

---

## üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VDS/–æ–±–ª–∞–∫–æ

### –î–ª—è Heroku, Railway, Render –∏ —Ç.–¥.:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `TELEGRAM_BOT_TOKEN` = –í–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
  - `WEBAPP_URL` = https://yourdomain.com  (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω HTTPS –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Mini App –≤–Ω—É—Ç—Ä–∏ Telegram)
   - `WEBHOOK_URL` = https://yourdomain.com
   - `WEBHOOK_SECRET` = –õ—é–±–æ–π —Å–ª–æ–∂–Ω—ã–π —Å–µ–∫—Ä–µ—Ç
   - `ENVIRONMENT` = production

2. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

3. **–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç webhook –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ**

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `index.html` - Mini App –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–≥—Ä—ã
- `server.js` - Express —Å–µ—Ä–≤–µ—Ä + webhook
- `bot.js` - –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –ª–æ–≥–∏–∫–∞
- `.env` - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ Git!)
- `package.json` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

## üéÆ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Mini App:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `/start` –≤ –±–æ—Ç–µ
2. –ï—Å–ª–∏ `WEBAPP_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://` ‚Äî –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É "üéÆ –ò–≥—Ä–∞—Ç—å" —Å Web App.
3. –ü—Ä–∏ –∫–ª–∏–∫–µ –ø–æ –∫–Ω–æ–ø–∫–µ –∏–≥—Ä–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram –∫–∞–∫ –º–∏–Ω–∏‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞, –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º –æ–∫–Ω–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏).
4. –ï—Å–ª–∏ `WEBAPP_URL` –Ω–µ HTTPS (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://localhost:3000`) ‚Äî –±–æ—Ç –ø—Ä–∏—à–ª—ë—Ç –æ–±—ã—á–Ω—É—é —Å—Å—ã–ª–∫—É, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
4. –í—Å—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `index.html`
5. –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ `/api/game/*`

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- ‚úÖ –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `.env`
- ‚úÖ Webhook –∏–º–µ–µ—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –ø—É—Ç—å
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS –Ω–∞ production

---

## üìù API Endpoints:

### POST `/api/game/damage`
–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É—Ä–æ–Ω –±–æ—Å—Å—É
```json
{
  "userId": "123456",
  "damage": 10
}
```

### GET `/api/game/stats/:userId`
–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞
```
GET /api/game/stats/123456
```

---

**Created:** 30.01.2026
